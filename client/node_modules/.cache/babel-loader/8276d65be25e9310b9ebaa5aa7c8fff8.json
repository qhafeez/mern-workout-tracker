{"ast":null,"code":"import * as actionTypes from \"./actionTypes\";\n/*this is a new axios instance.  it is not the one\n  from axios-orders.  we are doing this because\n  we don't use the baseURL that is set up in that one\t\n*/\n\nimport axios from \"axios\";\nimport firebase from '../../fire.js';\nexport var fetchStart = function fetchStart() {\n  return {\n    type: actionTypes.FETCH_WORKOUT_START\n  };\n};\nexport var fetchCurrentSuccess = function fetchCurrentSuccess(workout) {\n  return {\n    type: actionTypes.FETCH_WORKOUT_SUCCESS,\n    currentWorkout: workout\n  };\n};\nexport var fetchFail = function fetchFail() {\n  return {\n    type: actionTypes.FETCH_WORKOUT_FAIL\n  };\n};\nexport var fetchWorkoutHistory = function fetchWorkoutHistory(token) {\n  return function (dispatch) {\n    axios.post(\"/retrieveHistory\", {\n      token: token\n    }).then(function (res) {\n      console.log(res);\n\n      if (res.data === 0) {\n        return;\n      }\n\n      dispatch(fetchHistorySuccess(res.data));\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\nexport var fetchCurrentWorkout = function fetchCurrentWorkout(token) {\n  console.log(token);\n  return function (dispatch) {\n    dispatch(fetchStart());\n    axios.post(\"/retrieveCurrent\", {\n      token: token\n    }).then(function (res) {\n      console.log(res);\n\n      if (res.data.length === 0) {\n        console.log(\"no workout\");\n        dispatch(fetchFail());\n      } else {\n        dispatch(fetchCurrentSuccess(res.data));\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\nexport var fetchHistorySuccess = function fetchHistorySuccess(history) {\n  return {\n    type: actionTypes.FETCH_WORKOUT_HISTORY_SUCCESS,\n    workoutHistory: history\n  };\n};\nexport var deleteWorkout = function deleteWorkout(workoutId, token) {\n  return function (dispatch) {\n    axios.post(\"/deleteWorkout\", {\n      workoutId: workoutId,\n      token: token\n    }).then(function (response) {\n      console.log(response);\n      dispatch(fetchWorkoutHistory(token));\n    });\n  };\n};\nexport var removeCompleted = function removeCompleted() {\n  return {\n    type: \"REMOVE_COMPLETED\",\n    currentWorkout: null\n  };\n};\nexport var addExercise = function addExercise(token, exObj) {\n  return function (dispatch) {\n    dispatch(addExerciseStart());\n    axios.post(\"/addExercise\", {\n      token: token,\n      exObj: exObj\n    }).then(function (response) {\n      console.log(response);\n      dispatch(addExerciseSuccess());\n      dispatch(fetchCurrentWorkout(token));\n    });\n  };\n};\nexport var addExerciseStart = function addExerciseStart() {\n  return {\n    type: actionTypes.ADD_EXERCISE_START\n  };\n};\nexport var addExerciseSuccess = function addExerciseSuccess() {\n  return {\n    type: actionTypes.ADD_EXERCISE_SUCCESS\n  };\n};\nexport var completeWorkout = function completeWorkout(workoutId, token) {\n  return function (dispatch) {\n    console.log(token);\n    axios.post(\"/completeWorkout\", {\n      workoutId: workoutId,\n      token: token\n    }).then(function (response) {\n      console.log(response);\n      dispatch(removeCompleted());\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\nexport var repHandler = function repHandler(setId, token, workoutId) {\n  return function (dispatch) {\n    console.log(workoutId);\n    axios.post(\"/addRep\", {\n      token: token,\n      setId: setId,\n      workoutId: workoutId\n    }).then(function (response) {\n      console.log(response);\n      dispatch(fetchCurrentSuccess(response.data));\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\nexport var updateNotes = function updateNotes(notes) {\n  return function (dispatch) {\n    console.log(\"dispatch updateNotes\");\n    firebase.database().ref().update(notes);\n  };\n};\nexport var exerciseModalShow = function exerciseModalShow() {\n  return {\n    type: actionTypes.EXERCISE_MODAL_SHOW\n  };\n};\nexport var exerciseModalClose = function exerciseModalClose() {\n  return {\n    type: actionTypes.EXERCISE_MODAL_CLOSE\n  };\n};\nexport var notesModalClose = function notesModalClose() {\n  return {\n    type: actionTypes.NOTES_MODAL_CLOSE\n  };\n};\nexport var notesModalShow = function notesModalShow() {\n  return {\n    type: actionTypes.NOTES_MODAL_OPEN\n  };\n};","map":{"version":3,"sources":["/Users/qhafeez26/mern-workout/client/src/store/actions/workout-actions.js"],"names":["actionTypes","axios","firebase","fetchStart","type","FETCH_WORKOUT_START","fetchCurrentSuccess","workout","FETCH_WORKOUT_SUCCESS","currentWorkout","fetchFail","FETCH_WORKOUT_FAIL","fetchWorkoutHistory","token","dispatch","post","then","res","console","log","data","fetchHistorySuccess","catch","err","fetchCurrentWorkout","length","history","FETCH_WORKOUT_HISTORY_SUCCESS","workoutHistory","deleteWorkout","workoutId","response","removeCompleted","addExercise","exObj","addExerciseStart","addExerciseSuccess","ADD_EXERCISE_START","ADD_EXERCISE_SUCCESS","completeWorkout","repHandler","setId","updateNotes","notes","database","ref","update","exerciseModalShow","EXERCISE_MODAL_SHOW","exerciseModalClose","EXERCISE_MODAL_CLOSE","notesModalClose","NOTES_MODAL_CLOSE","notesModalShow","NOTES_MODAL_OPEN"],"mappings":"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","sourcesContent":["import * as actionTypes from \"./actionTypes\";\n\n/*this is a new axios instance.  it is not the one\n  from axios-orders.  we are doing this because\n  we don't use the baseURL that is set up in that one\t\n*/\nimport axios from \"axios\";\nimport firebase from '../../fire.js';\n\n\nexport const fetchStart = () =>{\n\n\treturn{\n\t\ttype:actionTypes.FETCH_WORKOUT_START\n\t}\n\n}\n\nexport const fetchCurrentSuccess = (workout) =>{\n\n\treturn{\n\t\ttype:actionTypes.FETCH_WORKOUT_SUCCESS,\n\t\tcurrentWorkout: workout\n\t}\n\n}\n\n\nexport const fetchFail = () =>{\n\n\treturn{\n\t\ttype:actionTypes.FETCH_WORKOUT_FAIL\n\t}\n\n}\n\n\nexport const fetchWorkoutHistory=(token)=>{\n\n\treturn dispatch =>{\n\n\n\t\taxios.post(\"/retrieveHistory\",{token:token}).then(res=>{\n\t\t\tconsole.log(res);\n\t\t\tif(res.data===0){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdispatch(fetchHistorySuccess(res.data))\n\n\t\t}).catch(err=>{\n\t\n\t\t\tconsole.log(err);\n\t\n\t\t})\n\n\n\t}\n\n}\n\nexport const fetchCurrentWorkout = (token) =>{\n\tconsole.log(token);\n\n\treturn dispatch =>{\n\n\t\t\tdispatch(fetchStart());\n\n\t\t\taxios.post(\"/retrieveCurrent\", {token:token}).then(res=>{\n\t\t\t\tconsole.log(res);\n\t\t\t\tif(res.data.length === 0){\n\t\t\t\t\tconsole.log(\"no workout\");\n\t\t\t\t\tdispatch(fetchFail());\n\t\t\t\t}else{\n\t\t\t\tdispatch(fetchCurrentSuccess(res.data));\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\n\t}\n\n}\n\n\n\nexport const fetchHistorySuccess = (history) =>{\n\n\treturn {\n\n\t\ttype:actionTypes.FETCH_WORKOUT_HISTORY_SUCCESS,\n\t\tworkoutHistory: history\n\n\t}\n\n}\n\n\nexport const deleteWorkout=(workoutId, token)=>{\n\n\treturn dispatch=>{\n\n\t\taxios.post(\"/deleteWorkout\", {workoutId:workoutId, token:token}).then(response=>{\n\n\n\t\t\tconsole.log(response);\n\t\t\t\tdispatch(fetchWorkoutHistory(token));\n\n\t\t})\n\n\t}\n\n}\n\nexport const removeCompleted = () =>{\n\n\treturn {\n\n\t\ttype:\"REMOVE_COMPLETED\",\n\t\tcurrentWorkout:null\n\n\t}\n}\n\n\nexport const addExercise=(token, exObj)=>{\n\t\n\treturn dispatch=>{\n\n\t\tdispatch(addExerciseStart());\n\n\t\t\n\t\taxios.post(\"/addExercise\", {token:token,exObj:exObj}).then(response=>{\n\t\t\tconsole.log(response);\n\t\t\tdispatch(addExerciseSuccess());\n\t\t\tdispatch(fetchCurrentWorkout(token))\n\t\t\t\n\t\t})\n\n\n\n\t}\n\n}\n\n\nexport const addExerciseStart =()=>{\n\n\treturn{\n\t\ttype:actionTypes.ADD_EXERCISE_START\n\t}\n\n}\n\nexport const addExerciseSuccess =()=>{\n\n\treturn{\n\t\ttype:actionTypes.ADD_EXERCISE_SUCCESS\n\t}\n\n}\n\n\n\nexport const completeWorkout=(workoutId,token)=>{\n\n\treturn dispatch=>{\n\t\tconsole.log(token);\n\t\taxios.post(\"/completeWorkout\", {workoutId:workoutId, token:token}).then(response=>{\n\t\t\t\tconsole.log(response)\n\t\t\t\tdispatch(removeCompleted());\n\n\t\t}).catch(err=>{\n\t\t\t\n\t\t\tconsole.log(err);\n\t\t\n\t\t})\n\n\t}\n\n}\n\n\nexport const repHandler = (setId,token, workoutId) =>{\n\n\t\treturn dispatch =>{\n\n\t\t\t\tconsole.log(workoutId);\n\t\t\taxios.post(\"/addRep\", {token:token, setId:setId, workoutId:workoutId}).then(response=>{\n\n\t\t\t\tconsole.log(response);\n\n\t\t\t\tdispatch(fetchCurrentSuccess(response.data))\n\n\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\n\t\t}\n\n\n}\n\nexport const updateNotes = (notes) =>{\n\n\t\treturn dispatch =>{\n\n\t\t\tconsole.log(\"dispatch updateNotes\");\n\n\t\t\tfirebase.database().ref().update(notes);\n\n\t\t}\n\n\n}\n\nexport const exerciseModalShow =()=>{\n\treturn{\n\t\ttype:actionTypes.EXERCISE_MODAL_SHOW\n\t}\n}\n\nexport const exerciseModalClose =()=>{\n\treturn{\n\t\ttype:actionTypes.EXERCISE_MODAL_CLOSE,\n\t\t\n\t}\n}\n\nexport const notesModalClose =()=>{\n\treturn{\n\t\ttype:actionTypes.NOTES_MODAL_CLOSE\n\t}\n}\n\nexport const notesModalShow =()=>{\n\treturn{\n\t\ttype:actionTypes.NOTES_MODAL_OPEN\n\t}\n}\n\n"]},"metadata":{},"sourceType":"module"}