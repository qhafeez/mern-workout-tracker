{"ast":null,"code":"import * as actionTypes from \"./actionTypes\";\nimport * as authActions from \"./auth-actions\";\n/*this is a new axios instance.  it is not the one\n  from axios-orders.  we are doing this because\n  we don't use the baseURL that is set up in that one\t\n*/\n\nimport axios from \"axios\"; // import firebase from '../../fire.js';\n\nexport var fetchStart = function fetchStart() {\n  return {\n    type: actionTypes.FETCH_WORKOUT_START\n  };\n};\nexport var fetchCurrentSuccess = function fetchCurrentSuccess(workout) {\n  return {\n    type: actionTypes.FETCH_WORKOUT_SUCCESS,\n    currentWorkout: workout\n  };\n};\nexport var fetchFail = function fetchFail() {\n  return {\n    type: actionTypes.FETCH_WORKOUT_FAIL\n  };\n};\nexport var fetchWorkoutHistory = function fetchWorkoutHistory(token) {\n  return function (dispatch) {\n    axios.post(\"/retrieveHistory\", {\n      token: token\n    }).then(function (res) {\n      console.log(res.data);\n\n      if (res.data === 0) {\n        dispatch(fetchHistorySuccess(null));\n        return;\n      }\n\n      console.log(res.data);\n      dispatch(fetchHistorySuccess(res.data.reverse()));\n    }).catch(function (err) {\n      dispatch(authActions.logout());\n    });\n  };\n};\nexport var createNewWorkout = function createNewWorkout(token) {\n  return function (dispatch) {\n    dispatch(fetchStart());\n    axios.post(\"/makeNewWorkout\", {\n      token: token\n    }).then(function (res) {\n      console.log(res);\n      dispatch(fetchCurrentSuccess(res.data));\n    }).catch(function (err) {\n      console.log(err);\n      dispatch(authActions.logout());\n    });\n  };\n};\nexport var fetchCurrentWorkout = function fetchCurrentWorkout(token) {\n  console.log(token);\n  return function (dispatch) {\n    dispatch(fetchStart());\n    axios.post(\"/retrieveCurrent\", {\n      token: token\n    }).then(function (res) {\n      console.log(res);\n\n      if (res.data.length === 0) {\n        console.log(\"no workout\");\n        dispatch(fetchFail());\n      } else {\n        console.log(res.data);\n        dispatch(fetchCurrentSuccess(res.data));\n      }\n    }).catch(function (err) {\n      console.log(err.message);\n      dispatch(authActions.logout());\n    });\n  };\n};\nexport var fetchHistorySuccess = function fetchHistorySuccess(history) {\n  return {\n    type: actionTypes.FETCH_WORKOUT_HISTORY_SUCCESS,\n    workoutHistory: history\n  };\n};\nexport var fetchOneWorkoutSuccess = function fetchOneWorkoutSuccess(oneWorkout) {\n  return {\n    type: actionTypes.FETCH_ONE_WORKOUT_SUCCESS,\n    oneWorkout: oneWorkout\n  };\n}; //retrieves one workout for the CompletedWorkoutDisplay component\n\nexport var fetchOneWorkout = function fetchOneWorkout(token, workoutId) {\n  return function (dispatch) {\n    axios.post(\"/retrieveWorkout\", {\n      token: token,\n      workoutId: workoutId\n    }).then(function (response) {\n      console.log(response);\n      dispatch(fetchOneWorkoutSuccess(response.data));\n    }).catch(function (err) {\n      console.log(err);\n      dispatch(authActions.logout());\n    });\n  };\n};\nexport var deleteWorkout = function deleteWorkout(workoutId, token) {\n  return function (dispatch) {\n    axios.post(\"/deleteWorkout\", {\n      workoutId: workoutId,\n      token: token\n    }).then(function (response) {\n      console.log(response);\n      dispatch(fetchWorkoutHistory(token));\n    }).catch(function (err) {\n      dispatch(authActions.logout());\n    });\n  };\n};\nexport var removeCompleted = function removeCompleted() {\n  return {\n    type: \"REMOVE_COMPLETED\",\n    currentWorkout: null\n  };\n};\nexport var addExercise = function addExercise(token, exObj) {\n  return function (dispatch) {\n    dispatch(addExerciseStart());\n    axios.post(\"/addExercise\", {\n      token: token,\n      exObj: exObj\n    }).then(function (response) {\n      console.log(response);\n      dispatch(addExerciseSuccess());\n      dispatch(fetchCurrentWorkout(token));\n    }).catch(function (err) {\n      console.log(err);\n      dispatch(authActions.logout());\n    });\n  };\n};\nexport var addExerciseStart = function addExerciseStart() {\n  return {\n    type: actionTypes.ADD_EXERCISE_START\n  };\n};\nexport var addExerciseSuccess = function addExerciseSuccess() {\n  return {\n    type: actionTypes.ADD_EXERCISE_SUCCESS\n  };\n};\nexport var completeWorkout = function completeWorkout(workoutId, token) {\n  return function (dispatch) {\n    console.log(token);\n    axios.post(\"/completeWorkout\", {\n      workoutId: workoutId,\n      token: token\n    }).then(function (response) {\n      console.log(response);\n      dispatch(removeCompleted());\n    }).catch(function (err) {\n      console.log(err);\n      dispatch(authActions.logout());\n    });\n  };\n};\nexport var repHandler = function repHandler(setId, token, workoutId) {\n  return function (dispatch) {\n    console.log(workoutId);\n    axios.post(\"/addRep\", {\n      token: token,\n      setId: setId,\n      workoutId: workoutId\n    }).then(function (response) {\n      console.log(response);\n      dispatch(fetchCurrentSuccess(response.data[0]));\n    }).catch(function (err) {\n      console.log(err);\n      dispatch(authActions.logout());\n    });\n  };\n};\nexport var updateNotes = function updateNotes(token, workoutId, notes) {\n  return function (dispatch) {\n    axios.post(\"/notesHandler\", {\n      token: token,\n      workoutId: workoutId,\n      notes: notes\n    }).then(function (response) {\n      console.log(response);\n      dispatch(fetchCurrentWorkout(token));\n    }).catch(function (err) {\n      console.log(err);\n      dispatch(authActions.logout());\n    });\n  };\n};\nexport var exerciseModalShow = function exerciseModalShow() {\n  return {\n    type: actionTypes.EXERCISE_MODAL_SHOW\n  };\n};\nexport var exerciseModalClose = function exerciseModalClose() {\n  return {\n    type: actionTypes.EXERCISE_MODAL_CLOSE\n  };\n};\nexport var notesModalClose = function notesModalClose() {\n  return {\n    type: actionTypes.NOTES_MODAL_CLOSE\n  };\n};\nexport var notesModalShow = function notesModalShow() {\n  return {\n    type: actionTypes.NOTES_MODAL_OPEN\n  };\n};","map":{"version":3,"sources":["/Users/qhafeez26/mern-workout/client/src/store/actions/workout-actions.js"],"names":["actionTypes","authActions","axios","fetchStart","type","FETCH_WORKOUT_START","fetchCurrentSuccess","workout","FETCH_WORKOUT_SUCCESS","currentWorkout","fetchFail","FETCH_WORKOUT_FAIL","fetchWorkoutHistory","token","dispatch","post","then","res","console","log","data","fetchHistorySuccess","reverse","catch","err","logout","createNewWorkout","fetchCurrentWorkout","length","message","history","FETCH_WORKOUT_HISTORY_SUCCESS","workoutHistory","fetchOneWorkoutSuccess","oneWorkout","FETCH_ONE_WORKOUT_SUCCESS","fetchOneWorkout","workoutId","response","deleteWorkout","removeCompleted","addExercise","exObj","addExerciseStart","addExerciseSuccess","ADD_EXERCISE_START","ADD_EXERCISE_SUCCESS","completeWorkout","repHandler","setId","updateNotes","notes","exerciseModalShow","EXERCISE_MODAL_SHOW","exerciseModalClose","EXERCISE_MODAL_CLOSE","notesModalClose","NOTES_MODAL_CLOSE","notesModalShow","NOTES_MODAL_OPEN"],"mappings":"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","sourcesContent":["import * as actionTypes from \"./actionTypes\";\nimport * as authActions from \"./auth-actions\";\n\n/*this is a new axios instance.  it is not the one\n  from axios-orders.  we are doing this because\n  we don't use the baseURL that is set up in that one\t\n*/\nimport axios from \"axios\";\n// import firebase from '../../fire.js';\n\n\nexport const fetchStart = () =>{\n\n\treturn{\n\t\ttype:actionTypes.FETCH_WORKOUT_START\n\t}\n\n}\n\nexport const fetchCurrentSuccess = (workout) =>{\n\n\treturn{\n\t\ttype:actionTypes.FETCH_WORKOUT_SUCCESS,\n\t\tcurrentWorkout: workout\n\t}\n\n}\n\n\nexport const fetchFail = () =>{\n\n\treturn{\n\t\ttype:actionTypes.FETCH_WORKOUT_FAIL\n\t}\n\n}\n\n\nexport const fetchWorkoutHistory=(token)=>{\n\n\treturn dispatch =>{\n\n\t\t\n\t\taxios.post(\"/retrieveHistory\",{token:token}).then(res=>{\n\t\t\tconsole.log(res.data);\n\t\t\tif(res.data===0){\n\t\t\t\tdispatch(fetchHistorySuccess(null));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconsole.log(res.data);\n\n\n\t\t\tdispatch(fetchHistorySuccess(res.data.reverse()));\n\n\t\t}).catch(err=>{\n\t\n\t\t\tdispatch(authActions.logout());\n\t\n\t\t})\n\n\n\t}\n\n}\n\nexport const createNewWorkout=(token)=>{\n\t\treturn dispatch=>{\n\t\t\tdispatch(fetchStart());\n\t\t\taxios.post(\"/makeNewWorkout\", {token:token}).then(res=>{\n\t\t\t\tconsole.log(res);\n\t\t\t\tdispatch(fetchCurrentSuccess(res.data));\n\n\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err);\n\t\t\t\tdispatch(authActions.logout());\n\t\t\t})\n\n\t\t}\n}\n\nexport const fetchCurrentWorkout = (token) =>{\n\tconsole.log(token);\n\n\treturn dispatch =>{\n\n\t\t\tdispatch(fetchStart());\n\n\t\t\taxios.post(\"/retrieveCurrent\", {token:token}).then(res=>{\n\t\t\t\tconsole.log(res);\n\t\t\t\tif(res.data.length === 0){\n\t\t\t\t\tconsole.log(\"no workout\");\n\t\t\t\t\tdispatch(fetchFail());\n\t\t\t\t}else{\n\t\t\t\t\tconsole.log(res.data);\n\t\t\t\tdispatch(fetchCurrentSuccess(res.data));\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err.message);\n\t\t\t\tdispatch(authActions.logout());\n\t\t\t})\n\n\t}\n\n}\n\n\n\nexport const fetchHistorySuccess = (history) =>{\n\n\treturn {\n\n\t\ttype:actionTypes.FETCH_WORKOUT_HISTORY_SUCCESS,\n\t\tworkoutHistory: history\n\n\t}\n\n}\n\nexport const fetchOneWorkoutSuccess = (oneWorkout) =>{\n\n\treturn {\n\n\t\ttype:actionTypes.FETCH_ONE_WORKOUT_SUCCESS,\n\t\toneWorkout: oneWorkout\n\n\t}\n\n}\n\n\n//retrieves one workout for the CompletedWorkoutDisplay component\nexport const fetchOneWorkout =(token, workoutId)=>{\n\n\treturn dispatch=>{\n\n\t\taxios.post(\"/retrieveWorkout\", {token:token, workoutId:workoutId}).then(response=>{\n\n\t\t\tconsole.log(response);\n\t\t\tdispatch(fetchOneWorkoutSuccess(response.data));\n\n\t\t}).catch(err=>{\n\t\t\tconsole.log(err);\n\t\t\tdispatch(authActions.logout());\n\t\t})\n\n\t}\n\n}\n\n\nexport const deleteWorkout=(workoutId, token)=>{\n\n\treturn dispatch=>{\n\n\t\taxios.post(\"/deleteWorkout\", {workoutId:workoutId, token:token}).then(response=>{\n\n\n\t\t\tconsole.log(response);\n\t\t\t\tdispatch(fetchWorkoutHistory(token));\n\n\t\t}).catch(err=>{\n\t\t\tdispatch(authActions.logout());\n\t\t})\n\n\t}\n\n}\n\nexport const removeCompleted = () =>{\n\n\treturn {\n\n\t\ttype:\"REMOVE_COMPLETED\",\n\t\tcurrentWorkout:null\n\n\t}\n}\n\n\nexport const addExercise=(token, exObj)=>{\n\t\n\treturn dispatch=>{\n\n\t\tdispatch(addExerciseStart());\n\n\t\t\n\t\taxios.post(\"/addExercise\", {token:token,exObj:exObj}).then(response=>{\n\t\t\tconsole.log(response);\n\t\t\tdispatch(addExerciseSuccess());\n\t\t\tdispatch(fetchCurrentWorkout(token))\n\t\t\t\n\t\t}).catch(err=>{\n\t\t\tconsole.log(err);\n\t\t\tdispatch(authActions.logout());\n\t\t})\n\n\n\n\t}\n\n}\n\n\nexport const addExerciseStart =()=>{\n\n\treturn{\n\t\ttype:actionTypes.ADD_EXERCISE_START\n\t}\n\n}\n\nexport const addExerciseSuccess =()=>{\n\n\treturn{\n\t\ttype:actionTypes.ADD_EXERCISE_SUCCESS\n\t}\n\n}\n\n\n\nexport const completeWorkout=(workoutId,token)=>{\n\n\treturn dispatch=>{\n\t\tconsole.log(token);\n\t\taxios.post(\"/completeWorkout\", {workoutId:workoutId, token:token}).then(response=>{\n\t\t\t\tconsole.log(response)\n\t\t\t\tdispatch(removeCompleted());\n\n\t\t}).catch(err=>{\n\t\t\t\n\t\t\tconsole.log(err);\n\t\t\tdispatch(authActions.logout());\n\t\t\n\t\t})\n\n\t}\n\n}\n\n\nexport const repHandler = (setId,token, workoutId) =>{\n\n\t\treturn dispatch =>{\n\n\t\t\t\tconsole.log(workoutId);\n\t\t\taxios.post(\"/addRep\", {token:token, setId:setId, workoutId:workoutId}).then(response=>{\n\n\t\t\t\tconsole.log(response);\n\n\t\t\t\tdispatch(fetchCurrentSuccess(response.data[0]))\n\n\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err);\n\t\t\t\tdispatch(authActions.logout());\n\t\t\t})\n\n\t\t}\n\n\n}\n\nexport const updateNotes = (token, workoutId, notes) =>{\n\n\t\treturn dispatch =>{\n\n\t\t\taxios.post(\"/notesHandler\", {token:token, workoutId: workoutId, notes:notes}).then(response=>{\n\n\t\t\t\tconsole.log(response);\n\t\t\t\tdispatch(fetchCurrentWorkout(token));\n\n\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err);\n\t\t\t\tdispatch(authActions.logout());\n\t\t\t})\n\n\t\t}\n\n\n}\n\nexport const exerciseModalShow =()=>{\n\treturn{\n\t\ttype:actionTypes.EXERCISE_MODAL_SHOW\n\t}\n}\n\nexport const exerciseModalClose =()=>{\n\treturn{\n\t\ttype:actionTypes.EXERCISE_MODAL_CLOSE,\n\t\t\n\t}\n}\n\nexport const notesModalClose =()=>{\n\treturn{\n\t\ttype:actionTypes.NOTES_MODAL_CLOSE\n\t}\n}\n\nexport const notesModalShow =()=>{\n\treturn{\n\t\ttype:actionTypes.NOTES_MODAL_OPEN\n\t}\n}\n\n"]},"metadata":{},"sourceType":"module"}