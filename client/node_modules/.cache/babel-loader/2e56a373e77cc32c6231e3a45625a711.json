{"ast":null,"code":"import _classCallCheck from \"/Users/qhafeez26/mern-workout/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/qhafeez26/mern-workout/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/qhafeez26/mern-workout/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/qhafeez26/mern-workout/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/qhafeez26/mern-workout/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/qhafeez26/mern-workout/client/src/Containers/Workout/Workout.js\";\nimport React, { Component } from \"react\";\nimport classes from \"./Workout.module.css\"; // import axios from \"../../axios-db\";\n\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../store/actions/index.js\"; // import Input from \"../../Components/UI/Input/Input\";\n// import SetComponent from \"../../Components/SetComponent/SetComponent\";\n\nimport ExerciseContainer from \"../ExerciseContainer/ExerciseContainer\";\nimport Aux from \"../../HOC/Aux/Aux\";\nimport Spinner from \"../../Components/UI/Spinner/Spinner\";\nimport Button from \"../../Components/UI/Button/Button\";\nimport Modal from \"../../Components/UI/Modal/Modal\";\nimport WorkoutSelector from \"../../Containers/WorkoutSelector/WorkoutSelector\";\nimport { Redirect, withRouter } from \"react-router-dom\"; // import { Icon } from \"react-icons-kit\";\n// import {pen_3} from 'react-icons-kit/ikons/pen_3';\n// import {plus} from 'react-icons-kit/ikons/plus';\n// import {square_ok} from 'react-icons-kit/ikons/square_ok';\n// import {arrows_horizontal_2} from 'react-icons-kit/ikons/arrows_horizontal_2';\n// import {withRouter} from \"react-router-dom\";\n// import firebase from '../../fire.js';\n\nvar Workout =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Workout, _Component);\n\n  function Workout() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Workout);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Workout)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      notes: \"\",\n      notesModalShow: false\n    };\n\n    _this.completeWorkout = function () {\n      //this sets the currentworkout to null in the reducer\n      //this triggers the CDU to take us back to the \n      _this.props.completeWorkout(_this.props.currentWorkout.workoutId, _this.props.token);\n    };\n\n    _this.notesModalClose = function () {\n      _this.setState(function (prevState) {\n        return {\n          notesModalShow: !prevState.notesModalShow\n        };\n      });\n    };\n\n    _this.notesModalOpen = function () {\n      _this.setState({\n        notesModalShow: true,\n        notes: _this.props.currentWorkout.notes\n      });\n    };\n\n    _this.textHandler = function (event) {\n      _this.setState({\n        notes: event.target.value\n      });\n    };\n\n    _this.textField = function () {// this.setState({\n      // \tnotes:this.props.currentWorkout.notes\n      // })\n    };\n\n    _this.notesUpdateHandler = function (token, workoutId, notes) {\n      // const query = firebase.database().ref(\"currentWorkouts\").orderByChild(\"userId\").equalTo(this.props.userId);\n      //  const workoutKey = this.props.currentWorkout.key;\n      // //  // console.log(firebase.database().ref(\"\"))\n      //  const updatePath = \"currentWorkouts/\" + workoutKey + \"/notes\";\n      //  const update ={\n      //  \t\t\t\t[updatePath] : this.state.notes\n      //  }\n      _this.props.notesUpdate(_this.props.token, _this.props.currentWorkout.workoutId, _this.state.notes);\n\n      _this.notesModalClose(); // console.log(maxReps);\n      // firebase.database().ref().update(update);\n\n    };\n\n    return _this;\n  }\n\n  _createClass(Workout, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getWorkout(this.props.token);\n\n      if (!this.props.currentWorkout) {\n        console.log(\"[Workout  CDM]\"); // this.props.getWorkout(this.props.token);\n      }\n\n      if (this.props.currentWorkout) {\n        console.log(\"workout CDM\");\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevProps.currentWorkout !== this.props.currentWorkout && this.props.currentWorkout === null) {\n        this.props.history.push(\"/home\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      // \t\tconst workout = firebase.database().ref(\"currentWorkouts/\").orderByChild(\"userId\").equalTo(this.props.userId);\n      // \t\tlet exercises =null;\n      // \t\tworkout.on(\"value\", (snapshot) =>{\n      // \t\t\t\tsnapshot.forEach(function(childSnapshot){\n      // \t\t\t\t\t exercises = childSnapshot.val();\n      // \t\t\t\t\tconsole.log(exercises.workout);\n      // \t\t\t\t})\t\n      // })\n      var redirect = null;\n      var exercises = React.createElement(Spinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      });\n\n      if (this.props.currentWorkout !== null) {\n        console.log(this.props.currentWorkout);\n\n        if (this.props.currentWorkout.workout.length !== 0) {\n          // text=this.props.currentWorkout.notes;\n          console.log(this.props.currentWorkout);\n          var date = {\n            month: this.props.currentWorkout.date.month,\n            day: this.props.currentWorkout.date.day,\n            year: this.props.currentWorkout.date.year\n          };\n          var exerciseList = Object.keys(this.props.currentWorkout.workout).map(function (exer) {\n            //we are looping through the entire workout\n            //the index variable will allow us to access the specific workout\n            //in the exercise container component\n            var index = exer;\n            var exercise = _this2.props.currentWorkout.workout[exer];\n            console.log(index);\n            return React.createElement(ExerciseContainer, {\n              key: exercise.exerciseID,\n              exerciseName: exercise.exerciseName,\n              weight: exercise.weight,\n              sets: exercise.sets,\n              numberOfSets: exercise.numberOfSets,\n              reps: Number(exercise.maxReps),\n              exercideId: exercise.exerciseId,\n              index: index,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 205\n              },\n              __self: this\n            });\n          });\n          exercises = React.createElement(Aux, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 220\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: classes.exercisesContainer,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 222\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 223\n            },\n            __self: this\n          }, date.month, \"/ \", date.day, \"/ \", date.year), React.createElement(\"div\", {\n            className: classes.innerExerciseContainer,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 226\n            },\n            __self: this\n          }, exerciseList)));\n        } else {\n          //this.props.openExerciseModal();\n          exercises = React.createElement(\"div\", {\n            className: classes.empty,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 240\n            },\n            __self: this\n          }, \"Click the 'Add Exercise\\\" button below to add an exercise\");\n        }\n      } else {\n        redirect = React.createElement(Redirect, {\n          to: \"/home\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(Aux, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.mainContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.selectorContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, exercises, React.createElement(\"div\", {\n        className: classes.buttonContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.innerContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(Button, {\n        style: {\n          marginLeft: \"10px\",\n          padding: \"0px\"\n        },\n        clicked: this.props.openExerciseModal,\n        btnType: \"Success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, \"Add Exercise\"), React.createElement(Button, {\n        style: {\n          padding: \"0px\"\n        },\n        clicked: this.notesModalOpen,\n        className: classes.buttonPaddingLeft,\n        btnType: \"Success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, \"Notes\"), React.createElement(Button, {\n        style: {\n          padding: \"0px\"\n        },\n        clicked: this.completeWorkout,\n        btnType: \"Success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, \"Complete Workout\"))), React.createElement(Modal, {\n        show: this.props.exerciseModalShow,\n        modalClosed: this.props.exerciseModalClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(WorkoutSelector, {\n        closeModal: this.props.exerciseModalClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      })), React.createElement(Modal, {\n        show: this.state.notesModalShow,\n        modalClosed: this.notesUpdateHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.doneContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        onClick: this.notesUpdateHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, \"DONE\")), React.createElement(\"textarea\", {\n        value: this.state.notes,\n        onChange: this.textHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return Workout;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    token: state.auth.token,\n    currentWorkout: state.workout.currentWorkout,\n    path: state.workout.key,\n    exerciseModalShow: state.workout.exerciseModalShow,\n    notesModalShow: state.workout.notesModalShow // workoutId:state.workout.currentWorkout.workoutId\n\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getWorkout: function getWorkout(token) {\n      return dispatch(actions.fetchCurrentWorkout(token));\n    },\n    notesUpdate: function notesUpdate(token, workoutId, notes) {\n      return dispatch(actions.updateNotes(token, workoutId, notes));\n    },\n    exerciseModalClose: function exerciseModalClose() {\n      return dispatch(actions.exerciseModalClose());\n    },\n    notesModalClose: function notesModalClose() {\n      return dispatch(actions.notesModalClose());\n    },\n    openExerciseModal: function openExerciseModal() {\n      dispatch(actions.exerciseModalShow());\n    },\n    openNotesModal: function openNotesModal() {\n      dispatch(actions.notesModalShow());\n    },\n    completeWorkout: function completeWorkout(workoutId, token) {\n      dispatch(actions.completeWorkout(workoutId, token));\n    }\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Workout));","map":{"version":3,"sources":["/Users/qhafeez26/mern-workout/client/src/Containers/Workout/Workout.js"],"names":["React","Component","classes","connect","actions","ExerciseContainer","Aux","Spinner","Button","Modal","WorkoutSelector","Redirect","withRouter","Workout","state","notes","notesModalShow","completeWorkout","props","currentWorkout","workoutId","token","notesModalClose","setState","prevState","notesModalOpen","textHandler","event","target","value","textField","notesUpdateHandler","notesUpdate","getWorkout","console","log","prevProps","history","push","redirect","exercises","workout","length","date","month","day","year","exerciseList","Object","keys","map","exer","index","exercise","exerciseID","exerciseName","weight","sets","numberOfSets","Number","maxReps","exerciseId","exercisesContainer","innerExerciseContainer","empty","mainContainer","selectorContainer","buttonContainer","innerContainer","marginLeft","padding","openExerciseModal","buttonPaddingLeft","exerciseModalShow","exerciseModalClose","doneContainer","mapStateToProps","auth","path","key","mapDispatchToProps","dispatch","fetchCurrentWorkout","updateNotes","openNotesModal"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,sBAApB,C,CACA;;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAO,KAAKC,OAAZ,MAAyB,8BAAzB,C,CACA;AACA;;AACA,OAAOC,iBAAP,MAA8B,wCAA9B;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,OAAP,MAAoB,qCAApB;AACA,OAAOC,MAAP,MAAmB,mCAAnB;AACA,OAAOC,KAAP,MAAkB,iCAAlB;AACA,OAAOC,eAAP,MAA4B,kDAA5B;AACA,SAAQC,QAAR,EAAkBC,UAAlB,QAAmC,kBAAnC,C,CAEA;AACA;AACA;AACA;AACA;AAMA;AACA;;IAIMC,O;;;;;;;;;;;;;;;;;UAKLC,K,GAAM;AAGLC,MAAAA,KAAK,EAAC,EAHD;AAILC,MAAAA,cAAc,EAAC;AAJV,K;;UAuCPC,e,GAAkB,YAAK;AAEvB;AACA;AAEA,YAAKC,KAAL,CAAWD,eAAX,CAA2B,MAAKC,KAAL,CAAWC,cAAX,CAA0BC,SAArD,EAAgE,MAAKF,KAAL,CAAWG,KAA3E;AAEC,K;;UAIDC,e,GAAkB,YAAI;AAErB,YAAKC,QAAL,CAAc,UAAAC,SAAS;AAAA,eAAG;AAEzBR,UAAAA,cAAc,EAAC,CAACQ,SAAS,CAACR;AAFD,SAAH;AAAA,OAAvB;AAMA,K;;UAEDS,c,GAAiB,YAAI;AAEpB,YAAKF,QAAL,CAAc;AAEbP,QAAAA,cAAc,EAAC,IAFF;AAGbD,QAAAA,KAAK,EAAC,MAAKG,KAAL,CAAWC,cAAX,CAA0BJ;AAHnB,OAAd;AAOA,K;;UAEDW,W,GAAa,UAACC,KAAD,EAAS;AAErB,YAAKJ,QAAL,CAAc;AAEbR,QAAAA,KAAK,EAACY,KAAK,CAACC,MAAN,CAAaC;AAFN,OAAd;AAOA,K;;UAEDC,S,GAAY,YAAK,CAEhB;AAEA;AAEA;AAEA,K;;UAEDC,kB,GAAqB,UAACV,KAAD,EAAQD,SAAR,EAAmBL,KAAnB,EAA4B;AAGjD;AAIG;AAEA;AAGA;AAEA;AAEA;AAEA;AAIC,YAAKG,KAAL,CAAWc,WAAX,CAAuB,MAAKd,KAAL,CAAWG,KAAlC,EAAyC,MAAKH,KAAL,CAAWC,cAAX,CAA0BC,SAAnE,EAA8E,MAAKN,KAAL,CAAWC,KAAzF;;AACA,YAAKO,eAAL,GAvB6C,CAyB7C;AAEA;;AAGH,K;;;;;;;wCAhHkB;AAEjB,WAAKJ,KAAL,CAAWe,UAAX,CAAsB,KAAKf,KAAL,CAAWG,KAAjC;;AAED,UAAG,CAAC,KAAKH,KAAL,CAAWC,cAAf,EAA8B;AAE3Be,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAF2B,CAI3B;AACF;;AAED,UAAG,KAAKjB,KAAL,CAAWC,cAAd,EAA6B;AAE5Be,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA;AAGD;;;uCAEkBC,S,EAAWZ,S,EAAU;AAEvC,UAAGY,SAAS,CAACjB,cAAV,KAA6B,KAAKD,KAAL,CAAWC,cAAxC,IAA0D,KAAKD,KAAL,CAAWC,cAAX,KAA8B,IAA3F,EAAiG;AAChG,aAAKD,KAAL,CAAWmB,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB;AACA;AAED;;;6BA0FQ;AAAA;;AAER;AAEA;AAEA;AAEA;AAEA;AAEA;AAGA;AAEA;AAEC,UAAIC,QAAQ,GAAG,IAAf;AAEA,UAAIC,SAAS,GAAG,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAhB;;AAEA,UAAG,KAAKtB,KAAL,CAAWC,cAAX,KAA8B,IAAjC,EAAsC;AACrCe,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKjB,KAAL,CAAWC,cAAvB;;AACA,YAAG,KAAKD,KAAL,CAAWC,cAAX,CAA0BsB,OAA1B,CAAkCC,MAAlC,KAA6C,CAAhD,EAAkD;AAClD;AACAR,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKjB,KAAL,CAAWC,cAAvB;AACA,cAAMwB,IAAI,GAAG;AACVC,YAAAA,KAAK,EAAC,KAAK1B,KAAL,CAAWC,cAAX,CAA0BwB,IAA1B,CAA+BC,KAD3B;AAEVC,YAAAA,GAAG,EAAC,KAAK3B,KAAL,CAAWC,cAAX,CAA0BwB,IAA1B,CAA+BE,GAFzB;AAGVC,YAAAA,IAAI,EAAC,KAAK5B,KAAL,CAAWC,cAAX,CAA0BwB,IAA1B,CAA+BG;AAH1B,WAAb;AAQA,cAAMC,YAAY,GAAGC,MAAM,CAACC,IAAP,CAAY,KAAK/B,KAAL,CAAWC,cAAX,CAA0BsB,OAAtC,EAA+CS,GAA/C,CAAmD,UAAAC,IAAI,EAAE;AAE3E;AACA;AACA;AACA,gBAAIC,KAAK,GAAGD,IAAZ;AACM,gBAAIE,QAAQ,GAAG,MAAI,CAACnC,KAAL,CAAWC,cAAX,CAA0BsB,OAA1B,CAAkCU,IAAlC,CAAf;AACEjB,YAAAA,OAAO,CAACC,GAAR,CAAYiB,KAAZ;AACF,mBAAQ,oBAAC,iBAAD;AACH,cAAA,GAAG,EAAEC,QAAQ,CAACC,UADX;AAED,cAAA,YAAY,EAAED,QAAQ,CAACE,YAFtB;AAGD,cAAA,MAAM,EAAEF,QAAQ,CAACG,MAHhB;AAID,cAAA,IAAI,EAAEH,QAAQ,CAACI,IAJd;AAKD,cAAA,YAAY,EAAEJ,QAAQ,CAACK,YALtB;AAMD,cAAA,IAAI,EAAEC,MAAM,CAACN,QAAQ,CAACO,OAAV,CANX;AAOD,cAAA,UAAU,EAAEP,QAAQ,CAACQ,UAPpB;AAQD,cAAA,KAAK,EAAET,KARN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAR;AASF,WAjBc,CAArB;AAqBMZ,UAAAA,SAAS,GAER,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAEL;AAAK,YAAA,SAAS,EAAEtC,OAAO,CAAC4D,kBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAOnB,IAAI,CAACC,KAAZ,QAAqBD,IAAI,CAACE,GAA1B,QAAiCF,IAAI,CAACG,IAAtC,CADD,EAIC;AAAK,YAAA,SAAS,EAAE5C,OAAO,CAAC6D,sBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACQhB,YADR,CAJD,CAFK,CAFD;AAmBN,SAnDA,MAmDI;AAEJ;AACAP,UAAAA,SAAS,GAAG;AAAK,YAAA,SAAS,EAAEtC,OAAO,CAAC8D,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yEAAZ;AAGA;AAGA,OA9DD,MA8DM;AACLzB,QAAAA,QAAQ,GAAC,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAT;AACA;;AAMD,aACC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAErC,OAAO,CAAC+D,aAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEC;AAAK,QAAA,SAAS,EAAE/D,OAAO,CAACgE,iBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEG1B,SAFH,EAOE;AAAK,QAAA,SAAS,EAAEtC,OAAO,CAACiE,eAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKC;AAAK,QAAA,SAAS,EAAEjE,OAAO,CAACkE,cAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIQ,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAE;AAACC,UAAAA,UAAU,EAAC,MAAZ;AAAmBC,UAAAA,OAAO,EAAC;AAA3B,SAAf;AAAkD,QAAA,OAAO,EAAE,KAAKpD,KAAL,CAAWqD,iBAAtE;AAA0F,QAAA,OAAO,EAAC,SAAlG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJR,EAKQ,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAE;AAACD,UAAAA,OAAO,EAAC;AAAT,SAAf;AAAiC,QAAA,OAAO,EAAE,KAAK7C,cAA/C;AAA+D,QAAA,SAAS,EAAEvB,OAAO,CAACsE,iBAAlF;AAAqG,QAAA,OAAO,EAAC,SAA7G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALR,EAMQ,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAE;AAACF,UAAAA,OAAO,EAAC;AAAT,SAAf;AAAgC,QAAA,OAAO,EAAE,KAAKrD,eAA9C;AAA+D,QAAA,OAAO,EAAC,SAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BANR,CALD,CAPF,EA4BE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAE,KAAKC,KAAL,CAAWuD,iBAAxB;AAA2C,QAAA,WAAW,EAAE,KAAKvD,KAAL,CAAWwD,kBAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEC,oBAAC,eAAD;AAAkB,QAAA,UAAU,EAAE,KAAKxD,KAAL,CAAWwD,kBAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFD,CA5BF,EAkCE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAE,KAAK5D,KAAL,CAAWE,cAAxB;AAAwC,QAAA,WAAW,EAAE,KAAKe,kBAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEC;AAAK,QAAA,SAAS,EAAE7B,OAAO,CAACyE,aAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,OAAO,EAAE,KAAK5C,kBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,CAFD,EAOE;AAAU,QAAA,KAAK,EAAE,KAAKjB,KAAL,CAAWC,KAA5B;AAAmC,QAAA,QAAQ,EAAE,KAAKW,WAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,CAlCF,CAFD,CADA,CADD;AA6DA;;;;EA5RoBzB,S;;AAgStB,IAAM2E,eAAe,GAAG,SAAlBA,eAAkB,CAAA9D,KAAK,EAAI;AAEhC,SAAM;AAELO,IAAAA,KAAK,EAACP,KAAK,CAAC+D,IAAN,CAAWxD,KAFZ;AAGLF,IAAAA,cAAc,EAACL,KAAK,CAAC2B,OAAN,CAActB,cAHxB;AAIL2D,IAAAA,IAAI,EAAChE,KAAK,CAAC2B,OAAN,CAAcsC,GAJd;AAKLN,IAAAA,iBAAiB,EAAC3D,KAAK,CAAC2B,OAAN,CAAcgC,iBAL3B;AAMLzD,IAAAA,cAAc,EAACF,KAAK,CAAC2B,OAAN,CAAczB,cANxB,CAOL;;AAPK,GAAN;AAWA,CAbD;;AAeA,IAAMgE,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ,EAAG;AAErC,SAAO;AAENhD,IAAAA,UAAU,EAAE,oBAACZ,KAAD;AAAA,aAAW4D,QAAQ,CAAC7E,OAAO,CAAC8E,mBAAR,CAA4B7D,KAA5B,CAAD,CAAnB;AAAA,KAFN;AAGNW,IAAAA,WAAW,EAAC,qBAACX,KAAD,EAAQD,SAAR,EAAmBL,KAAnB;AAAA,aAA6BkE,QAAQ,CAAC7E,OAAO,CAAC+E,WAAR,CAAoB9D,KAApB,EAA2BD,SAA3B,EAAsCL,KAAtC,CAAD,CAArC;AAAA,KAHN;AAIN2D,IAAAA,kBAAkB,EAAC;AAAA,aAAMO,QAAQ,CAAC7E,OAAO,CAACsE,kBAAR,EAAD,CAAd;AAAA,KAJb;AAKNpD,IAAAA,eAAe,EAAC;AAAA,aAAM2D,QAAQ,CAAC7E,OAAO,CAACkB,eAAR,EAAD,CAAd;AAAA,KALV;AAMNiD,IAAAA,iBAAiB,EAAE,6BAAI;AAACU,MAAAA,QAAQ,CAAC7E,OAAO,CAACqE,iBAAR,EAAD,CAAR;AAAsC,KANxD;AAONW,IAAAA,cAAc,EAAC,0BAAI;AAACH,MAAAA,QAAQ,CAAC7E,OAAO,CAACY,cAAR,EAAD,CAAR;AAAmC,KAPjD;AAQNC,IAAAA,eAAe,EAAC,yBAACG,SAAD,EAAYC,KAAZ,EAAoB;AAAC4D,MAAAA,QAAQ,CAAC7E,OAAO,CAACa,eAAR,CAAwBG,SAAxB,EAAkCC,KAAlC,CAAD,CAAR;AAAmD;AARlF,GAAP;AAaA,CAfD;;AAiBA,eAAeT,UAAU,CAACT,OAAO,CAACyE,eAAD,EAAkBI,kBAAlB,CAAP,CAA6CnE,OAA7C,CAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport classes from \"./Workout.module.css\";\n// import axios from \"../../axios-db\";\nimport {connect} from \"react-redux\";\nimport * as actions from \"../../store/actions/index.js\";\n// import Input from \"../../Components/UI/Input/Input\";\n// import SetComponent from \"../../Components/SetComponent/SetComponent\";\nimport ExerciseContainer from \"../ExerciseContainer/ExerciseContainer\"; \nimport Aux from \"../../HOC/Aux/Aux\";\nimport Spinner from \"../../Components/UI/Spinner/Spinner\";\nimport Button from \"../../Components/UI/Button/Button\";\nimport Modal from \"../../Components/UI/Modal/Modal\";\nimport WorkoutSelector from \"../../Containers/WorkoutSelector/WorkoutSelector\";\nimport {Redirect, withRouter} from \"react-router-dom\";\n\n// import { Icon } from \"react-icons-kit\";\n// import {pen_3} from 'react-icons-kit/ikons/pen_3';\n// import {plus} from 'react-icons-kit/ikons/plus';\n// import {square_ok} from 'react-icons-kit/ikons/square_ok';\n// import {arrows_horizontal_2} from 'react-icons-kit/ikons/arrows_horizontal_2';\n\n\n\n\n\n// import {withRouter} from \"react-router-dom\";\n// import firebase from '../../fire.js';\n\n\n\nclass Workout extends Component {\n\n\n\n\n\tstate={\n\n\t\t\n\t\tnotes:\"\",\n\t\tnotesModalShow:false\n\t\t\n\n\t}\n\n\ncomponentDidMount(){\n\t\n \tthis.props.getWorkout(this.props.token);\n\t\n\tif(!this.props.currentWorkout){ \t\n\t \t\t\n\t \t\tconsole.log(\"[Workout  CDM]\");\n\n\t\t \t// this.props.getWorkout(this.props.token);\n\t}\n\n\tif(this.props.currentWorkout){\n\n\t\tconsole.log(\"workout CDM\")\n\t}\n\n\n}\n\ncomponentDidUpdate(prevProps, prevState){\n\n\tif(prevProps.currentWorkout !== this.props.currentWorkout && this.props.currentWorkout === null ){\n\t\tthis.props.history.push(\"/home\");\n\t}\n\n}\n\t\n\n\ncompleteWorkout = () =>{\n\n//this sets the currentworkout to null in the reducer\n//this triggers the CDU to take us back to the \n\nthis.props.completeWorkout(this.props.currentWorkout.workoutId, this.props.token);\n\n}\n\n\n\nnotesModalClose = ()=>{\n\n\tthis.setState(prevState=>({\n\n\t\tnotesModalShow:!prevState.notesModalShow\n\t}));\n\n\n}\n\nnotesModalOpen = ()=>{\n\n\tthis.setState({\n\n\t\tnotesModalShow:true,\n\t\tnotes:this.props.currentWorkout.notes\n\t});\n\n\n}\n\ntextHandler =(event)=>{\n\n\tthis.setState({\n\n\t\tnotes:event.target.value\n\t})\n\n\n\n}\n\ntextField = () =>{\n\n\t// this.setState({\n\n\t// \tnotes:this.props.currentWorkout.notes\n\n\t// })\n\n}\n\nnotesUpdateHandler = (token, workoutId, notes) =>{\n\n\n// const query = firebase.database().ref(\"currentWorkouts\").orderByChild(\"userId\").equalTo(this.props.userId);\n\n\t\t\t\n\n\t\t //  const workoutKey = this.props.currentWorkout.key;\n\n\t\t // //  // console.log(firebase.database().ref(\"\"))\n\n\n\t\t //  const updatePath = \"currentWorkouts/\" + workoutKey + \"/notes\";\n\n\t\t //  const update ={\n\n\t\t //  \t\t\t\t[updatePath] : this.state.notes\n\n\t\t //  }\n\n\n\n\t\t  this.props.notesUpdate(this.props.token, this.props.currentWorkout.workoutId, this.state.notes);\n\t\t  this.notesModalClose();\n\n\t\t  // console.log(maxReps);\n\n\t\t  // firebase.database().ref().update(update);\n\n\n}\n\n\n\trender(){\n\n\t// \t\tconst workout = firebase.database().ref(\"currentWorkouts/\").orderByChild(\"userId\").equalTo(this.props.userId);\n\t\n\t// \t\tlet exercises =null;\n\n\t// \t\tworkout.on(\"value\", (snapshot) =>{\n\t\t\t\t\n\t// \t\t\t\tsnapshot.forEach(function(childSnapshot){\n\t\t\t\t\t\t\n\t// \t\t\t\t\t exercises = childSnapshot.val();\n\n\t// \t\t\t\t\tconsole.log(exercises.workout);\n\n\n\t// \t\t\t\t})\t\n\n\t// })\n\n\t\tlet redirect = null;\n\n\t\tlet exercises = <Spinner />;\n\n\t\tif(this.props.currentWorkout !== null){\n\t\t\tconsole.log(this.props.currentWorkout);\n\t\t\tif(this.props.currentWorkout.workout.length !== 0){\n\t\t\t// text=this.props.currentWorkout.notes;\n\t\t\tconsole.log(this.props.currentWorkout);\n\t\t\tconst date = {\n\t\t\t\t\t\tmonth:this.props.currentWorkout.date.month,\n\t\t\t\t\t\tday:this.props.currentWorkout.date.day,\n\t\t\t\t\t\tyear:this.props.currentWorkout.date.year\n\n\t\t\t}\n\n\n\t\t\tconst exerciseList = Object.keys(this.props.currentWorkout.workout).map(exer=>{\n\n\t\t\t\t\t\t//we are looping through the entire workout\n\t\t\t\t\t\t//the index variable will allow us to access the specific workout\n\t\t\t\t\t\t//in the exercise container component\n\t\t\t\t\t\tlet index = exer;\n\t        \t\t\tlet exercise = this.props.currentWorkout.workout[exer];\n\t        \t\t\t\t\tconsole.log(index);\n\t        \t\t\treturn \t<ExerciseContainer \n\t        \t\t\t\t\t\t\t\tkey={exercise.exerciseID}\n\t        \t\t\t\t\t\t\t   exerciseName={exercise.exerciseName} \n\t        \t\t\t\t\t\t\t   weight={exercise.weight} \n\t        \t\t\t\t\t\t\t   sets={exercise.sets}\n\t        \t\t\t\t\t\t\t   numberOfSets={exercise.numberOfSets} \n\t        \t\t\t\t\t\t\t   reps={Number(exercise.maxReps)} \n\t        \t\t\t\t\t\t\t   exercideId={exercise.exerciseId}\n\t        \t\t\t\t\t\t\t   index={index} />\n\t        })\n\n\n\t\t\t\n\t        exercises =  (\n\n\t        \t<Aux>\n\t        \t\t\n\t\t\t\t\t<div className={classes.exercisesContainer}>\n\t\t\t\t\t\t<div >{date.month}/ {date.day}/ {date.year}</div>\n\n\n\t\t\t\t\t\t<div className={classes.innerExerciseContainer}>\n\t        \t\t\t\t{exerciseList}\n\t        \t\t\t</div>\n\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t</Aux>\n\n)\n\n\t\t}else{\n\n\t\t\t//this.props.openExerciseModal();\n\t\t\texercises = <div className={classes.empty}>Click the 'Add Exercise\" button below to add an exercise</div>\n\n\n\t\t}\n\n\n\t\t} else{\n\t\t\tredirect=<Redirect to=\"/home\" />\n\t\t}\n\t\t\t\n\n\t\t\n\n\n\t\treturn(\n\t\t\t<Aux>\n\t\t\t<div className={classes.mainContainer}>\n\t\t\t\n\t\t\t\t<div className={classes.selectorContainer}>\n\t\t\t\t\t\n\t\t\t\t\t\t{exercises}\n\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t<div className={classes.buttonContainer} >\n\t\t\t\t\t\t\t\n\n\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className={classes.innerContainer}>\n\n\n\t\t\t\t\t\t\t\t\t\n\t        \t\t\t\t\t\t<Button style={{marginLeft:\"10px\",padding:\"0px\"}} clicked={this.props.openExerciseModal}  btnType=\"Success\">Add Exercise</Button>\n\t        \t\t\t\t\t\t<Button style={{padding:\"0px\"}}  clicked={this.notesModalOpen} className={classes.buttonPaddingLeft} btnType=\"Success\">Notes</Button>\n\t        \t\t\t\t\t\t<Button style={{padding:\"0px\"}} clicked={this.completeWorkout} btnType=\"Success\">Complete Workout</Button>\n\t        \t\t\t\t\t\t{/*<Icon onClick={this.selectorModalOpen} size={50} icon={plus}/>\n\t        \t\t\t\t\t\t<Icon onClick={this.modalOpen} size={50} icon={pen_3}/>\n\t        \t\t\t\t\t\t<Icon onClick={this.completeWorkout} size={50} icon={square_ok}/>*/}\n\n\t        \t\t\t\t\t\t\n\t        \t\t\t\t\t\n\t        \t\t\t\t</div>\n\t        \t\t\t</div>\n\n\t\t\t\t\t\t<Modal show={this.props.exerciseModalShow} modalClosed={this.props.exerciseModalClose} >\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<WorkoutSelector  closeModal={this.props.exerciseModalClose} />\n\n\t\t\t\t\t\t</Modal>\n\n\t\t\t\t\t\t<Modal show={this.state.notesModalShow} modalClosed={this.notesUpdateHandler}>\n\n\t\t\t\t\t\t\t<div className={classes.doneContainer}>\n\t\t\t\t\t\t\t\t<div onClick={this.notesUpdateHandler}>DONE</div>\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<textarea value={this.state.notes} onChange={this.textHandler}></textarea>\n\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t</Modal>\t\n\t\t\t\t</div>\n\t\t\t\t</div>\n\n\n\n\t\t\t\t\n\t\t\t\t</Aux>\n\n\n\t\t\t)\n\n\n\t}\n\n}\n\nconst mapStateToProps = state => {\n\n\treturn{\n\n\t\ttoken:state.auth.token,\n\t\tcurrentWorkout:state.workout.currentWorkout,\n\t\tpath:state.workout.key,\n\t\texerciseModalShow:state.workout.exerciseModalShow,\n\t\tnotesModalShow:state.workout.notesModalShow,\n\t\t// workoutId:state.workout.currentWorkout.workoutId\n\n\t}\n\n}\n\nconst mapDispatchToProps = dispatch =>{\n\n\treturn {\n\n\t\tgetWorkout: (token) => dispatch(actions.fetchCurrentWorkout(token)),\n\t\tnotesUpdate:(token, workoutId, notes) => dispatch(actions.updateNotes(token, workoutId, notes)),\n\t\texerciseModalClose:() => dispatch(actions.exerciseModalClose()),\n\t\tnotesModalClose:() => dispatch(actions.notesModalClose()),\n\t\topenExerciseModal: ()=>{dispatch(actions.exerciseModalShow())},\n\t\topenNotesModal:()=>{dispatch(actions.notesModalShow())},\n\t\tcompleteWorkout:(workoutId, token)=>{dispatch(actions.completeWorkout(workoutId,token))}\n\n\n\t}\n\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Workout));"]},"metadata":{},"sourceType":"module"}