{"ast":null,"code":"import _defineProperty from \"/Users/qhafeez26/mern-workout/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/qhafeez26/mern-workout/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/qhafeez26/mern-workout/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/qhafeez26/mern-workout/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/qhafeez26/mern-workout/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/qhafeez26/mern-workout/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/qhafeez26/mern-workout/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/qhafeez26/mern-workout/client/src/Containers/Auth/Auth.js\";\nimport React, { Component } from \"react\";\nimport Input from \"../../Components/UI/Input/Input\";\nimport Button from \"../../Components/UI/Button/Button\";\nimport classes from \"./Auth.module.css\";\nimport * as actions from \"../../store/actions/index\";\nimport { connect } from \"react-redux\";\nimport withErrorHandler from \"../../HOC/withErrorHandler/withErrorHandler\";\nimport axiosInstance from \"../../axios-db\";\nimport Spinner from \"../../Components/UI/Spinner/Spinner\";\nimport appScreenshot from \"../../Assets/Images/appScreenshot.png\";\nimport { Redirect } from \"react-router-dom\";\n\nvar Auth =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Auth, _Component);\n\n  function Auth() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Auth);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Auth)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      controls: {\n        email: {\n          elementType: \"input\",\n          elementConfig: {\n            type: \"email\",\n            placeholder: \"Email Address\"\n          },\n          value: \"\",\n          validation: {\n            required: true,\n            isEmail: true\n          },\n          valid: false,\n          touched: false\n        },\n        password: {\n          elementType: \"input\",\n          elementConfig: {\n            type: \"password\",\n            placeholder: \"Password\"\n          },\n          value: \"\",\n          validation: {\n            required: true,\n            minLength: 6\n          },\n          valid: false,\n          touched: false\n        }\n      },\n      isSignUp: true\n    };\n\n    _this.inputChangeHandler = function (event, controlName) {\n      var updatedControls = _objectSpread({}, _this.state.controls, _defineProperty({}, controlName, _objectSpread({}, _this.state.controls[controlName], {\n        value: event.target.value,\n        valid: _this.checkValidity(event.target.value, _this.state.controls[controlName].validation),\n        touched: true\n      })));\n\n      _this.setState({\n        controls: updatedControls\n      });\n    };\n\n    _this.submitHandler = function (event) {\n      event.preventDefault();\n\n      _this.props.onAuth();\n    };\n\n    _this.switchAuthModeHandler = function () {\n      _this.setState(function (prevState) {\n        return {\n          isSignUp: !prevState.isSignUp\n        };\n      });\n\n      console.log(_this.state.isSignUp);\n    };\n\n    return _this;\n  }\n\n  _createClass(Auth, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(\"[auth cdm]\");\n\n      if (this.props.isAuthenticated) {// console.log(this.props);\n        //this sets the redirect path in the state to the homepage because\n        //at the bottom of this file we pass \"/\" as the argument to the function\n      }\n    }\n  }, {\n    key: \"checkValidity\",\n    value: function checkValidity(value, rules) {\n      //value is the value property in the orderForm object\n      //rules is the validation property (which is an object) in each orderForm object\n      var isValid = true;\n\n      if (rules.required) {\n        console.log(\"first if\");\n        isValid = value.trim() !== \"\" && isValid;\n      }\n\n      if (rules.minLength) {\n        console.log(\"second if\");\n        isValid = value.length >= rules.minLength && isValid;\n      }\n\n      if (rules.maxLength) {\n        console.log(\"third if\");\n        isValid = value.length <= rules.maxLength && isValid;\n      }\n\n      if (rules.isEmail) {\n        var pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n        isValid = pattern.test(value) && isValid;\n      }\n\n      if (rules.isNumeric) {\n        var _pattern = /^\\d+$/;\n        isValid = _pattern.test(value) && isValid;\n      }\n\n      return isValid;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var formElementsArray = [];\n\n      for (var key in this.state.controls) {\n        formElementsArray.push({\n          id: key,\n          config: this.state.controls[key]\n        });\n      }\n\n      var form = formElementsArray.map(function (formElement) {\n        return React.createElement(Input, {\n          key: formElement.id,\n          elementType: formElement.config.elementType,\n          elementConfig: formElement.config.elementConfig,\n          value: formElement.config.value,\n          changed: function changed(event) {\n            return _this2.inputChangeHandler(event, formElement.id);\n          },\n          invalid: !formElement.config.valid,\n          shouldValidate: formElement.config.validation,\n          touched: formElement.config.touched,\n          style: {\n            borderTop: \"none\",\n            borderRight: \"none\",\n            borderLeft: \"none\",\n            borderBottom: \"3px solid #2C74B7\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        });\n      });\n\n      if (this.props.loading) {\n        form = React.createElement(Spinner, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217\n          },\n          __self: this\n        });\n      }\n\n      var errorMessage = null;\n\n      if (this.props.error) {\n        errorMessage = //the error property is an object returned from\n        //firebase. message is one of it's properties\n        React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        }, this.props.error.message);\n      }\n\n      var authRedirect = null;\n\n      if (this.props.isAuthenticated) {\n        //redirect to home page after successful redirect\n        authRedirect = React.createElement(Redirect, {\n          to: \"/home\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240\n          },\n          __self: this\n        });\n\n        if (this.props.refreshPath !== \"/home\") {// authRedirect= <Redirect to={this.props.refreshPath} />;\n        }\n      }\n\n      return React.createElement(\"div\", {\n        className: classes.homepageContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.Auth,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, authRedirect, errorMessage, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, form, React.createElement(Button, {\n        style: {\n          margin: \"0px\"\n        },\n        btnType: \"Success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, \"Submit\")), React.createElement(Button, {\n        style: {\n          margin: \"0px\"\n        },\n        btnType: \"Danger\",\n        clicked: this.switchAuthModeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"SWITCH TO \", this.state.isSignUp ? \"Sign In\" : \"SIGN UP\"), React.createElement(\"a\", {\n        href: \"http://localhost:4000/google\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, \"GOOGLE\")), React.createElement(\"div\", {\n        className: classes.appInfoContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.heading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, \"Workout Tracker\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: appScreenshot,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, \"Track your workouts!\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, \"Keep track of sets and reps!\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, \"Write notes about your workout! \\\"Too easy, up the weight next time\\\"\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, \"Look back at your history and see how far you've progressed!\")))));\n    }\n  }]);\n\n  return Auth;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loading: state.auth.loading,\n    error: state.auth.error,\n    isAuthenticated: state.auth.token,\n    // building: state.burgerBuilder.building,\n    authRedirectPath: state.auth.authRedirectPath,\n    refreshPath: state.auth.authRefreshPath\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onAuth: function onAuth(token) {\n      return dispatch(actions.auth(token));\n    },\n    redirect: function redirect() {\n      return dispatch(actions.setAuthRedirectPath(\"/home\"));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Auth);","map":{"version":3,"sources":["/Users/qhafeez26/mern-workout/client/src/Containers/Auth/Auth.js"],"names":["React","Component","Input","Button","classes","actions","connect","withErrorHandler","axiosInstance","Spinner","appScreenshot","Redirect","Auth","state","controls","email","elementType","elementConfig","type","placeholder","value","validation","required","isEmail","valid","touched","password","minLength","isSignUp","inputChangeHandler","event","controlName","updatedControls","target","checkValidity","setState","submitHandler","preventDefault","props","onAuth","switchAuthModeHandler","prevState","console","log","isAuthenticated","rules","isValid","trim","length","maxLength","pattern","test","isNumeric","formElementsArray","key","push","id","config","form","map","formElement","borderTop","borderRight","borderLeft","borderBottom","loading","errorMessage","error","message","authRedirect","refreshPath","homepageContainer","margin","appInfoContainer","heading","mapStateToProps","auth","token","authRedirectPath","authRefreshPath","mapDispatchToProps","dispatch","redirect","setAuthRedirectPath"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport Input from \"../../Components/UI/Input/Input\";\nimport Button from \"../../Components/UI/Button/Button\";\nimport classes from \"./Auth.module.css\"; \nimport * as actions from \"../../store/actions/index\";\n\nimport { connect } from \"react-redux\";\nimport withErrorHandler from \"../../HOC/withErrorHandler/withErrorHandler\";\nimport axiosInstance from \"../../axios-db\";\nimport Spinner from  \"../../Components/UI/Spinner/Spinner\";\nimport appScreenshot from \"../../Assets/Images/appScreenshot.png\"\n\nimport { Redirect } from \"react-router-dom\";\n\n\n\nclass Auth extends Component {\n\n\n\tcomponentDidMount(){\n\t\tconsole.log(\"[auth cdm]\")\n\t\tif(this.props.isAuthenticated){\n\n\n\t\t\t\n\n\t\t\t// console.log(this.props);\n\t\t\t//this sets the redirect path in the state to the homepage because\n\t\t\t//at the bottom of this file we pass \"/\" as the argument to the function\n\t\t\t\n\t\t\t\n\n\t\t}\n\t\t\n\t}\n\n\tstate = {\n\n\t\tcontrols: {\n\n\t\t\temail:{\n\n\t\t\t\t\telementType: \"input\",\n\t\t\t\t\telementConfig: {\n\t\t\t\t\t\ttype:\"email\",\n\t\t\t\t\t\tplaceholder: \"Email Address\"\n\t\t\t\t\t},\n\t\t\t\t\tvalue: \"\",\n\t\t\t\t\tvalidation:{\n\t\t\t\t\t\trequired:true,\n\t\t\t\t\t\tisEmail:true\n\t\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\tvalid:false,\n\t\t\t\t\ttouched:false\n\t\t\t\t\t\n\n\t\t\t\t},\n\t\t\t\tpassword:{\n\n\t\t\t\t\telementType: \"input\",\n\t\t\t\t\telementConfig: {\n\t\t\t\t\t\ttype:\"password\",\n\t\t\t\t\t\tplaceholder: \"Password\"\n\t\t\t\t\t},\n\t\t\t\t\tvalue: \"\",\n\t\t\t\t\tvalidation:{\n\t\t\t\t\t\trequired:true,\n\t\t\t\t\t\tminLength:6\n\t\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\tvalid:false,\n\t\t\t\t\ttouched:false\n\t\t\t\t\t\n\n\t\t\t\t},\n\t\t\t\t\n\n\n\t\t},\n\t\tisSignUp:true\n\t\t\n\t\t\n\n\n\t}\n\n\n\tcheckValidity(value, rules){\n\n\t\t\t\t\t//value is the value property in the orderForm object\n\t\t\t\t\t//rules is the validation property (which is an object) in each orderForm object\n\n\t\tlet isValid = true;\n\n\t\tif (rules.required){\n\t\t\tconsole.log(\"first if\");\n\t\t\tisValid = value.trim() !== \"\" && isValid;\n\t\t\t\n\n\t\t}\n\n\t\tif (rules.minLength){\n\t\t\tconsole.log(\"second if\");\n\t\t\tisValid = value.length >= rules.minLength  && isValid ;\n\t\t\t\n\t\t}\n\n\t\tif( rules.maxLength){\n\t\t\tconsole.log(\"third if\");\n\t\t\tisValid = value.length <= rules.maxLength  && isValid ;\n\t\t\t\n\t\t}\n\n\t\t if (rules.isEmail) {\n            const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n            isValid = pattern.test(value) && isValid\n        }\n\n         if (rules.isNumeric) {\n            const pattern = /^\\d+$/;\n            isValid = pattern.test(value) && isValid\n        }\n\n\n\t\treturn isValid;\n\n\t}\n\n\tinputChangeHandler = (event, controlName) => {\n\n\n\n\n\t\tconst updatedControls = {\n\n\n\n\t\t//this copies the controls object\n\t\t//from our state\n\t\t\t...this.state.controls,\n\n\t\t//this creates and object that will\n\t\t//update the object within our controls object\n\t\t\t[controlName]:{\n\t\t\t\t...this.state.controls[controlName],\n\t\t\t\tvalue: event.target.value,\n\t\t\t\tvalid:this.checkValidity(event.target.value, this.state.controls[controlName].validation),\n\t\t\t\ttouched:true\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\tthis.setState({\n\t\t\tcontrols:updatedControls\n\t\t})\n\n\n\t}\n\n\tsubmitHandler = (event) =>{\n\t\tevent.preventDefault();\n\t\tthis.props.onAuth();\n\n\n\t}\n\n\tswitchAuthModeHandler = () =>{\n\n\t\tthis.setState(prevState =>{\n\t\t\treturn{\n\n\t\t\t\tisSignUp: !prevState.isSignUp\n\t\t\t}\n\t\t});\n\t\tconsole.log(this.state.isSignUp)\n\t}\n\n\t\n\t\n\n\trender(){\n\n\n\n\t\tconst formElementsArray =[];\n\t\t\tfor (let key in this.state.controls){\n\n\t\t\t\tformElementsArray.push({\n\t\t\t\t\tid:key,\n\t\t\t\t\tconfig: this.state.controls[key]\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tlet form = formElementsArray.map(formElement => {\n\n\t\t\t\treturn <Input \n\n\t\t\t\t\tkey={formElement.id}\n\t\t\t\t\telementType={formElement.config.elementType} \n\t\t\t\t\telementConfig={formElement.config.elementConfig} \n\t\t\t\t\tvalue={formElement.config.value} \n\t\t\t\t\tchanged={(event)=>this.inputChangeHandler(event, formElement.id)} \n\t\t\t\t\tinvalid={!formElement.config.valid}\n\t\t\t\t\tshouldValidate={formElement.config.validation}\n\t\t\t\t\ttouched={formElement.config.touched}\n\t\t\t\t\tstyle={{borderTop:\"none\", borderRight:\"none\", borderLeft:\"none\", borderBottom:\"3px solid #2C74B7\"}}\t\n\n\t\t\t\t/>\n\n\t\t\t});\n\n\t\t\tif(this.props.loading){\n\n\t\t\t\tform = <Spinner />;\n\n\t\t\t}\n\n\t\t\tlet errorMessage = null;\n\n\t\t\tif(this.props.error){\n\n\t\t\t\terrorMessage = (\n\t\t\t\t\t\t\t\t\t//the error property is an object returned from\n\t\t\t\t\t\t\t\t\t//firebase. message is one of it's properties\n\t\t\t\t\t\t\t\t\t<p>{this.props.error.message}</p>\n\t\t\t\t\t\t\t\t)\n\n\t\t\t}\n\n\t\t\tlet authRedirect = null;\n\n\t\t\tif(this.props.isAuthenticated){\n\t\t\t\t//redirect to home page after successful redirect\n\n\t\t\t\t\n\n\t\t\t\t\tauthRedirect = <Redirect to=\"/home\" />\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.props.refreshPath !== \"/home\"){\n\n\t\t\t\t\t\t\t// authRedirect= <Redirect to={this.props.refreshPath} />;\n\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\n\t\t\n\n\n\t\treturn(\n\n\t\t\t\t<div className={classes.homepageContainer}>\n\t\t\t\t\t<div className={classes.Auth}>\n\t\t\t\t\t\n\t\t\t\t\t\t{authRedirect}\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{errorMessage}\n\t\t\t\t\t\t<form >\n\t\t\t\t\t\t\t\t{form}\n\t\t\t\t\t\t\t<Button style={{margin:\"0px\"}} btnType=\"Success\">Submit</Button>\n\t\t\t\t\t\t</form>\t\n\t\t\t\t\t\t\t<Button style={{margin:\"0px\"}} btnType=\"Danger\" clicked={this.switchAuthModeHandler}>SWITCH TO {this.state.isSignUp ? \"Sign In\" : \"SIGN UP\"}</Button>\n\t\t\t\t\t\t\t<a href=\"http://localhost:4000/google\">GOOGLE</a>\n\t\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={classes.appInfoContainer}>\n\n\t\t\t\t\t\t\t\t<div className={classes.heading}>\n\t\t\t\t\t\t\t\t\tWorkout Tracker\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<img src={appScreenshot} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t<li>Track your workouts!</li>\n\t\t\t\t\t\t\t\t\t\t<li>Keep track of sets and reps!</li>\n\t\t\t\t\t\t\t\t\t\t<li>Write notes about your workout! \"Too easy, up the weight next time\"</li>\n\t\t\t\t\t\t\t\t\t\t<li>Look back at your history and see how far you've progressed!</li>\n\n\n\t\t\t\t\t\t\t\t\t</ul>\n\n\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\n\t\t\t);\n\n\t}\n\n}\n\nconst mapStateToProps = state =>{\n\n\treturn{\n\n\t\tloading:state.auth.loading,\n\t\terror: state.auth.error,\n\t\tisAuthenticated: state.auth.token,\n\t\t// building: state.burgerBuilder.building,\n\t\tauthRedirectPath:state.auth.authRedirectPath,\n\t\trefreshPath:state.auth.authRefreshPath\n\n\n\t}\n\n\n}\n\t\nconst mapDispatchToProps = dispatch =>{\n\n\treturn {\n\n\t\tonAuth: (token) => dispatch(actions.auth(token)),\n\t\tredirect: () => dispatch(actions.setAuthRedirectPath(\"/home\"))\n\t}\n\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Auth);"]},"metadata":{},"sourceType":"module"}