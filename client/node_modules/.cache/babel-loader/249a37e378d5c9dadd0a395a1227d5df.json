{"ast":null,"code":"import * as actionTypes from \"../actions/actionTypes\";\nimport { updateObject } from \"../utility\"; //updateObject is a helper function that makes updating the state easier\n\nvar initialState = {\n  token: null,\n  // userId: null,\n  error: null,\n  loading: false,\n  authRedirectPath: \"/\"\n};\n\nvar authStart = function authStart(state, action) {\n  return updateObject(state, {\n    error: null,\n    loading: true\n  });\n};\n\nvar authSuccess = function authSuccess(state, action) {\n  return updateObject(state, {\n    token: action.token,\n    // userId: action.userId,\n    error: null,\n    loading: false,\n    cookie: true\n  });\n};\n\nvar authFail = function authFail(state, action) {\n  return updateObject(state, {\n    error: action.error,\n    loading: false\n  });\n};\n\nvar authLogout = function authLogout(state, action) {\n  return updateObject(state, {\n    token: null,\n    // userId:null,\n    authRefreshPath: null\n  });\n};\n\nvar setAuthRedirectPath = function setAuthRedirectPath(state, action) {\n  localStorage.setItem(\"redirectPath\", action.path);\n  return updateObject(state, {\n    authRedirectPath: action.path\n  });\n}; // const setRefreshPath = (state, action) =>{\n// \tlocalStorage.setItem(\"refreshPath\", action.path);\n// \treturn updateObject(state, { authRefreshPath:action.path });\n// }\n\n\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case actionTypes.AUTH_START:\n      return authStart(state, action);\n\n    case actionTypes.AUTH_SUCCESS:\n      return authSuccess(state, action);\n\n    case actionTypes.AUTH_FAIL:\n      return authFail(state, action);\n\n    case actionTypes.AUTH_LOGOUT:\n      return authLogout(state, action);\n\n    case actionTypes.SET_AUTH_REDIRECT_PATH:\n      return setAuthRedirectPath(state, action);\n    // case actionTypes.SET_AUTH_REFRESH_PATH:\n    // \treturn setRefreshPath(state, action);\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Users/qhafeez26/mern-workout/client/src/store/reducers/auth-reducer.js"],"names":["actionTypes","updateObject","initialState","token","error","loading","authRedirectPath","authStart","state","action","authSuccess","cookie","authFail","authLogout","authRefreshPath","setAuthRedirectPath","localStorage","setItem","path","reducer","type","AUTH_START","AUTH_SUCCESS","AUTH_FAIL","AUTH_LOGOUT","SET_AUTH_REDIRECT_PATH"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,wBAA7B;AACA,SAASC,YAAT,QAA6B,YAA7B,C,CAEA;;AAGA,IAAMC,YAAY,GAAG;AAEpBC,EAAAA,KAAK,EAAC,IAFc;AAGpB;AACAC,EAAAA,KAAK,EAAC,IAJc;AAKpBC,EAAAA,OAAO,EAAC,KALY;AAMpBC,EAAAA,gBAAgB,EAAE;AANE,CAArB;;AAYA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,EAASC,MAAT,EAAoB;AAErC,SAAOR,YAAY,CAACO,KAAD,EAAQ;AAACJ,IAAAA,KAAK,EAAE,IAAR;AAAcC,IAAAA,OAAO,EAAE;AAAvB,GAAR,CAAnB;AAGA,CALD;;AAOA,IAAMK,WAAW,GAAG,SAAdA,WAAc,CAACF,KAAD,EAAQC,MAAR,EAAkB;AAErC,SAAOR,YAAY,CAACO,KAAD,EAAQ;AAC1BL,IAAAA,KAAK,EAAEM,MAAM,CAACN,KADY;AAE1B;AACAC,IAAAA,KAAK,EAAC,IAHoB;AAI1BC,IAAAA,OAAO,EAAE,KAJiB;AAK1BM,IAAAA,MAAM,EAAC;AALmB,GAAR,CAAnB;AAQA,CAVD;;AAYA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACJ,KAAD,EAAQC,MAAR,EAAkB;AAElC,SAAOR,YAAY,CAACO,KAAD,EAAQ;AAC1BJ,IAAAA,KAAK,EAACK,MAAM,CAACL,KADa;AAE1BC,IAAAA,OAAO,EAAC;AAFkB,GAAR,CAAnB;AAKA,CAPD;;AASA,IAAMQ,UAAU,GAAG,SAAbA,UAAa,CAACL,KAAD,EAAQC,MAAR,EAAkB;AAEpC,SAAOR,YAAY,CAACO,KAAD,EAAQ;AAC1BL,IAAAA,KAAK,EAAC,IADoB;AAE1B;AACAW,IAAAA,eAAe,EAAC;AAHU,GAAR,CAAnB;AAOA,CATD;;AAWA,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACP,KAAD,EAAQC,MAAR,EAAkB;AAE7CO,EAAAA,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAqCR,MAAM,CAACS,IAA5C;AACA,SAAOjB,YAAY,CAACO,KAAD,EAAQ;AAAEF,IAAAA,gBAAgB,EAACG,MAAM,CAACS;AAA1B,GAAR,CAAnB;AAEA,CALD,C,CAOA;AAEA;AAEA;AAEA;;;AAGA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAkC;AAAA,MAAjCX,KAAiC,uEAAzBN,YAAyB;AAAA,MAAXO,MAAW;;AAEjD,UAAOA,MAAM,CAACW,IAAd;AAIC,SAAKpB,WAAW,CAACqB,UAAjB;AACC,aAAOd,SAAS,CAACC,KAAD,EAAQC,MAAR,CAAhB;;AAED,SAAKT,WAAW,CAACsB,YAAjB;AACC,aAAOZ,WAAW,CAACF,KAAD,EAAQC,MAAR,CAAlB;;AAED,SAAKT,WAAW,CAACuB,SAAjB;AACC,aAAOX,QAAQ,CAACJ,KAAD,EAAQC,MAAR,CAAf;;AAED,SAAKT,WAAW,CAACwB,WAAjB;AACC,aAAOX,UAAU,CAACL,KAAD,EAAQC,MAAR,CAAjB;;AAED,SAAKT,WAAW,CAACyB,sBAAjB;AACC,aAAOV,mBAAmB,CAACP,KAAD,EAAQC,MAAR,CAA1B;AAGD;AACA;;AAGA;AACC,aAAOD,KAAP;AAzBF;AA8BA,CAhCD;;AAkCA,eAAeW,OAAf","sourcesContent":["import * as actionTypes from \"../actions/actionTypes\";\nimport { updateObject } from \"../utility\";\n\n//updateObject is a helper function that makes updating the state easier\n\n\nconst initialState = {\n\n\ttoken:null,\n\t// userId: null,\n\terror:null,\n\tloading:false,\n\tauthRedirectPath: \"/\",\n\t\n\t\n\n}\n\nconst authStart = (state , action) => {\n\n\treturn updateObject(state, {error: null, loading: true});\n\n\n}\n\nconst authSuccess = (state, action) =>{\n\n\treturn updateObject(state, {\n\t\ttoken: action.token,\n\t\t// userId: action.userId,\n\t\terror:null,\n\t\tloading: false,\n\t\tcookie:true\n\t});\n\n}\n\nconst authFail = (state, action) =>{\n\n\treturn updateObject(state, {\n\t\terror:action.error,\n\t\tloading:false\n\t});\n\n}\n\nconst authLogout = (state, action) =>{\n\n\treturn updateObject(state, {\n\t\ttoken:null,\n\t\t// userId:null,\n\t\tauthRefreshPath:null\n\t})\n\n\n}\n\nconst setAuthRedirectPath = (state, action) =>{\n\n\tlocalStorage.setItem(\"redirectPath\", action.path);\n\treturn updateObject(state, { authRedirectPath:action.path });\n\n}\n\n// const setRefreshPath = (state, action) =>{\n\n// \tlocalStorage.setItem(\"refreshPath\", action.path);\n\n// \treturn updateObject(state, { authRefreshPath:action.path });\n\n// }\n\n\nconst reducer = (state = initialState, action) => {\n\n\tswitch(action.type){\n\n\n\n\t\tcase actionTypes.AUTH_START:\n\t\t\treturn authStart(state, action); \n\n\t\tcase actionTypes.AUTH_SUCCESS:\n\t\t\treturn authSuccess(state, action);\n\n\t\tcase actionTypes.AUTH_FAIL:\n\t\t\treturn authFail(state, action);\n\n\t\tcase actionTypes.AUTH_LOGOUT:\n\t\t\treturn authLogout(state, action);\n\n\t\tcase actionTypes.SET_AUTH_REDIRECT_PATH:\n\t\t\treturn setAuthRedirectPath(state, action);\n\n\n\t\t// case actionTypes.SET_AUTH_REFRESH_PATH:\n\t\t// \treturn setRefreshPath(state, action);\n\n\n\t\tdefault: \n\t\t\treturn state;\n\n\t}\n\n\n}\n\nexport default reducer;"]},"metadata":{},"sourceType":"module"}